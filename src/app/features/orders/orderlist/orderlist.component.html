<div class="min-h-screen bg-white p-6">
  <h2 class="text-3xl font-bold text-blue-800 mb-8 text-center">
    My Orders
  </h2>

  <div *ngIf="orders.length === 0 || !isloggedin"
    class="flex flex-col items-center justify-center h-64 bg-white border border-amber-200 rounded-xl shadow-lg p-8 text-center space-y-4">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-amber-500 mx-auto" fill="none" viewBox="0 0 24 24"
      stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 9m5-9v9m4-9v9m5-9l2 9" />
    </svg>

    <h2 class="text-2xl font-semibold text-blue-700">No Orders Yet</h2>

    <p class="text-blue-500 max-w-xs">
      Looks like you haven't made any purchases yet. Start exploring our products and add them to your cart!
    </p>

    <a routerLink="/products"
      class="mt-2 inline-block px-6 py-2 bg-amber-500 text-white font-semibold rounded-full shadow hover:bg-amber-600 hover:shadow-md transition duration-300">
      Start Shopping
    </a>
  </div>

  <ng-container *ngIf="isloggedin">
    <div *ngFor="let order of orders"
      class="relative bg-white border border-amber-100 shadow-md rounded-3xl mb-8 transition transform hover:scale-[1.02] hover:shadow-xl duration-300">
      <div
        class="flex flex-wrap justify-between items-center border-b border-amber-100 bg-blue-50/40 p-5 rounded-t-3xl">
        <div>
          <p class="text-sm text-blue-600">
            Order ID:
            <span class="font-semibold text-blue-800">{{ order.id | shortId }}</span>
          </p>
          <p class="text-sm text-blue-600">
          Order Date:
            <span class="font-semibold text-blue-800">{{ order.orderDate | date:'short'  }}</span>
          </p>
        </div>
        <div class="px-4 py-1.5 rounded-full text-sm font-semibold text-white" [ngClass]="{
            'bg-green-500': order.status === 'delivered',
            'bg-yellow-500': order.status === 'pending',
            'bg-red-500': order.status === 'cancelled'
          }">
          {{ order.status }}
        </div>
      </div>

      <div class="p-5 space-y-3">
        <div *ngFor="let item of order.items"
          class="flex flex-col sm:flex-row sm:items-center gap-4 border border-amber-100 rounded-xl p-3 bg-white hover:bg-blue-50/40 transition">
          <img [src]="item.image" routerLink="/products" alt="Product Image"
            class="w-20 h-20 object-cover rounded-lg border border-amber-100" />

          <div class="flex-1">
            <h3 class="text-base font-semibold text-blue-800">{{ item.name }}</h3>
            <p class="text-sm text-blue-600 mt-1 line-clamp-2">{{ item.description }}</p>

            <div class="flex justify-between items-center mt-2">
              <span class="text-amber-600 font-semibold text-sm">₹{{ item.price }}</span>
              <span class="text-xs text-blue-500">Qty: {{ item.quantity }}</span>
            </div>
          </div>
        </div>
      </div>

      <div
        class="flex flex-col sm:flex-row justify-between items-center px-5 py-3 border-t border-amber-100 bg-blue-50/40 rounded-b-3xl gap-3 sm:gap-0">
        <p class="text-blue-800 font-medium text-base">
          Total:
          <span class="text-amber-600 font-semibold">₹{{ order.total }}</span>
        </p>
      </div>

      <div class="absolute -z-10 blur-2xl opacity-10 bg-amber-300 w-[90%] h-[80%] top-5 left-5 rounded-3xl"></div>
    </div>
  </ng-container>
</div>