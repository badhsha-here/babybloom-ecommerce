<section class="max-w-7xl mx-auto p-6 md:p-12 bg-gray-50 min-h-screen">

    <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-8 text-center">Checkout</h1>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

        <div class="bg-white p-6 rounded-2xl shadow-lg">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Billing & Shipping</h2>

            <form #checkoutForm="ngForm" (ngSubmit)="placeOrder(checkoutForm)" class="space-y-4">
                <div>
                    <label class="block text-gray-600 mb-1" for="name">Full Name</label>
                    <input type="text" id="name" [(ngModel)]="fullname" name="fullname" required
                        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500" />
                </div>

                <div>
                    <label class="block text-gray-600 mb-1" for="email">Email</label>
                    <input type="email" id="email" [(ngModel)]="email" name="email" required
                        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500" />
                </div>

                <div>
                    <label class="block text-gray-600 mb-1" for="address">Address</label>
                    <input type="text" id="address" [(ngModel)]="address" name="address" required
                        placeholder="123 Main St"
                        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500" />
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-600 mb-1" for="city">City</label>
                        <input type="text" id="city" [(ngModel)]="city" name="city" required placeholder="Mumbai"
                            class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500" />
                    </div>
                    <div>
                        <label class="block text-gray-600 mb-1" for="pin">PIN Code</label>
                        <input type="text" id="zip" [(ngModel)]="pin" name="pin" required placeholder="10001"
                            class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500" />
                    </div>
                </div>

                <div>
                    <label class="block text-gray-600 mb-1" for="country">Country</label>
                    <select id="country" [(ngModel)]="country" name="country"
                        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500">
                        <option>India</option>
                        <option>United States</option>
                        <option>United Kingdom</option>
                    </select>
                </div>

                <div class="mt-4">
                    <h3 class="text-gray-700 font-medium mb-2">Payment Method</h3>
                    <div class="flex flex-col space-y-2">
                        <label class="inline-flex items-center">
                            <input type="radio" class="form-radio text-amber-500" name="payment" checked>
                            <span class="ml-2 text-gray-700">Credit / Debit Card</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="radio" class="form-radio text-amber-500" name="payment">
                            <span class="ml-2 text-gray-700">UPI / Wallet</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="radio" class="form-radio text-amber-500" name="payment">
                            <span class="ml-2 text-gray-700">Cash on Delivery</span>
                        </label>
                    </div>
                </div>

                <button type="submit"
                    class="mt-6 w-full bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 rounded-lg shadow-lg transition duration-300">
                    Place Order
                </button>
            </form>
        </div>
        <div *ngIf="showSuccessPopup"
            class="fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-50">
            <div
                class="bg-white text-center p-8 rounded-2xl shadow-xl w-[90%] sm:w-[400px] transition-all animate-fadeIn">
                <div class="flex justify-center mb-4">
                    <svg class="w-14 h-14 text-green-500" fill="none" stroke="currentColor" stroke-width="2"
                        viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                    </svg>
                </div>
                <h2 class="text-xl font-semibold mb-2">Order Successful!</h2>
                <p class="text-gray-600">Redirecting to your orders page...</p>
            </div>
        </div>

        <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col ">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Order Summary</h2>

            <div class="flex flex-col space-y-4 max-h-96 overflow-y-auto">
                <div *ngFor="let product of cartProducts" class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <img [src]="product.image" alt="Product" class="w-16 h-16 rounded-lg object-cover" />
                        <div>
                            <p class="text-gray-700 font-medium">{{ product.name }}</p>
                            <p class="text-gray-500 text-sm">Qty: {{ product.quantity }}</p>
                        </div>
                    </div>
                    <p class="font-semibold text-gray-700">₹{{ product.price * product.quantity }}</p>
                </div>
            </div>

            <!-- Total -->
            <div class="mt-6 border-t border-gray-200 pt-4">
                <div class="flex justify-between text-lg font-semibold text-gray-800">
                    <span>Total</span>
                    <span>₹{{ total }}</span>
                </div>
            </div>
        </div>
    </div>
</section>